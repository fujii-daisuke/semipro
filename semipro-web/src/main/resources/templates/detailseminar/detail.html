<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}"
      th:lang="${#locale.language}">
<head>
    <title th:text="${seminar.title}">title</title>
    <meta name="keywords" content="content1" />
    <meta name="description" content="content1" />
    <link th:href="@{/css/eventon.style.css}" rel="stylesheet">
    <script src="http://maps.google.com/maps/api/js?key=AIzaSyAMGqMClEinLYUXhIy1L35bRvEffjUQ4Uk&language=ja"></script>
<style>
 #map {
   width: 800px;
   height: 400px;
 }
</style>
</head>
<body>
  <!--Main layout-->
  <main class="mt-5" layout:fragment="content">
    <div class="container">

      <!--Section: Blog v.4-->
      <section class="section mt-5 pb-3 wow fadeIn">

        <!--Grid row-->
        <div class="row">
          <div class="col-md-12">
            <!-- Card -->
            <div class="card card-cascade wider reverse">

              <!-- Card image -->
              <div class="view view-cascade overlay text-center">
                <img th:src="${seminar.imagePath}" th:alt="${seminar.title}" style="display: inline; max-width: 848px; max-height: 428px; border-top-left-radius: calc(.25rem - 1px); border-top-right-radius: calc(.25rem - 1px);">
                <a href="#!">
                  <div class="mask rgba-white-slight"></div>
                </a>
              </div>

              <!--Post data-->
              <div class="card-body card-body-cascade text-center">
                <h2><a><strong th:text="${seminar.title}">title</strong></a></h2>
                <p class="card-text" th:text="${seminar.summary}">summary</p>
                <p>[[${#temporals.format(seminar.startedAt, 'yyyy年MM月dd日 HH時mm分')}]] 開催</p>

                <!--Social shares-->
                <!-- 
                <div class="social-counters ">

                  <a class="btn btn-fb ">
                    <i class="fab fa-facebook-f left "></i>
                    <span class="clearfix d-none d-md-block">Facebook</span>
                  </a>
                  <span class="counter ">46</span>

                  <a class="btn btn-tw ">
                    <i class="fab fa-twitter left "></i>
                    <span class="clearfix d-none d-md-block">Twitter</span>
                  </a>
                  <span class="counter ">22</span>

                  <a class="btn btn-dribbble ">
                    <i class="fab fa-dribbble left "></i>
                    <span class="clearfix d-none d-md-block">Dribbble</span>
                  </a>
                  <span class="counter ">31</span>

                  <a class="btn btn-blue-grey ">
                    <i class="fas fa-comments left "></i>
                    <span class="clearfix d-none d-md-block">Comments</span>
                  </a>
                  <span class="counter ">18</span>

                </div>
                -->
                <!--Social shares-->

              </div>
              <!--Post data-->
            </div>

            <!--Excerpt-->
            <div class="excerpt mt-5 wow fadeIn eventon-detail-content" data-wow-delay="0.3s">
              <p th:utext="${seminar.contents}">contents</p>
            </div>
          </div>
        </div>
        <!--Grid row-->

      </section>
      <!--Section: Blog v.4-->

      <hr class="mb-5 mt-4">

      <!--Author box-->
      <section>

        <div class="jumbotron pt-4 pb-4 text-center text-md-left author-box wow fadeIn" data-wow-delay="0.3s">
          <!--Name-->
          <h4 class="h4-responsive text-center font-weight-bold dark-grey-text">チケット販売状況</h4>
          <hr>
          
          <div class="row mb-3" th:each="ticket, stat: ${seminar.seminarTickets}">
            <div class="offset-md-3 col-md-2" th:text="${ticket.name}"></div>
            <div class="col-md-2 text-right">[[${#numbers.formatInteger(ticket.price,1,'DEFAULT')}]] 円</div>
          </div>
          
          <hr>
          <div class="text-center">
            <span class="mr-4">受付期間</span>
            <span class="h5 font-weight-bold">[[${#temporals.format(seminar.entryStartedAt, 'yyyy年MM月dd日 HH時mm分')}]] 〜 [[${#temporals.format(seminar.entryEndedAt, 'yyyy年MM月dd日 HH時mm分')}]]</span>
          </div>
        </div>

      </section>
      <!--/.Author box-->

      <!--Author box-->
      <section>
        <div class="pt-4 pb-4 text-center text-md-left wow fadeIn" data-wow-delay="0.3s">
          <!--Name-->
          <h4 class="h4-responsive text-center font-weight-bold dark-grey-text">日程</h4>
          <hr>
          <div class="row mb-3">
            <div class="offset-md-1 col-md-1">開催日時</div>
            <div class="col">[[${#temporals.format(seminar.startedAt, 'yyyy年MM月dd日 HH時mm分')}]] 〜 [[${#temporals.format(seminar.endedAt, 'yyyy年MM月dd日 HH時mm分')}]]</div>
          </div>
          <div class="row mb-3">
            <div class="offset-md-1 col-md-1">開催地</div>
            <div class="col">[[${seminar.address}]] [[${seminar.place}]]</div>
          </div>
          <div class="row mb-3">
            <div class="offset-md-1 col-md-1">
              <div id="map"></div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="offset-md-1 col-md-1">主催</div>
            <div class="col" th:each="owner, stat: ${seminar.seminarOwners}">
              <span th:text="${owner.name}"></span><br>
              <a th:href="${owner.url}" target="_blank" th:text="${owner.url}"></a>
            </div>
          </div>
        </div>
      </section>
      <!--/.Author box-->
      
      <section class="my-5">
        <div class="row">
          <div class="offset-md-3 col-md-5">
              <a th:href="${'https://eventon.jp/' + seminar.providerSeminarId}" target="_blank"><button type="button" class="btn btn-dark-green btn-lg btn-block">申し込みはこちら</button></a>
          </div>
        </div>
      </section>
      
    <script th:inline="javascript">
      var latlng = {lat: 35.383575, lng: 139.344170};
      var Options = {
       zoom: 15,      //地図の縮尺値
       center: latlng,    //地図の中心座標
       mapTypeId: 'roadmap'   //地図の種類
      };
      var map = new google.maps.Map(document.getElementById('map'), Options);
      // マーカーを表示
      var marker = new google.maps.Marker({
        position: latlng, 
        map: map,
        title: 'where' // マーカーの名前
      });
      var infoWindow = new google.maps.InfoWindow({ // 吹き出しの追加
        content: /*[[${seminar.address}]]*/ // 吹き出しに表示する内容
      });
       marker.addListener('mouseover', function() { // マーカーをクリックしたとき
           infoWindow.open(map, marker); // 吹き出しの表示
          });
       // mouseoutイベントを取得するListenerを追加
       google.maps.event.addListener(marker, 'mouseout', function(){
           infoWindow.close();
         });
    </script>

    </div>
  </main>
  <!--Main layout-->
</body>

</html>
